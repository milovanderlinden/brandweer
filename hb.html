<!DOCTYPE html>
<html>
<head>
    <title>handlebars test page...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="http://cloud.github.com/downloads/wycats/handlebars.js/handlebars-1.0.0.beta.6.js"></script>

</head>
<body>
<!--
    http://javascriptplayground.com/blog/2012/05/javascript-templating-handlebars-tutorial/
-->
<script id="ajax-comment" type="text/x-handlebars-template">
    <li>
        <span class="meta">{{name}} on {{date}}</span>
        <p>{{comment}}</p>
    </li>
</script>
<script id="contact" type="text/x-handlebars-template" >
    {{#each contact}}
        <div>
            {{render_inputs}}
        </div>
    {{/each}}
</script>
<ul id="yeah"></ul>
<article id="contact-tmpl"></article>

<script type="text/javascript">
    // handlebars templating is go...
//
//    // get the template
//    var source = $("#ajax-comment").html();
//
//    // compile the template
//    var template = Handlebars.compile(source);
//    // set up the data
//    var data = {
//        name: "Jack",
//        date: "12/04/12",
//        comment: "This is a really awesome tutorial. Thanks."
//    };
//
//    // inject it...
//    $("#yeah").append(template(data));

    var contact = $('#contact').html()
//    console.log(intro);
    var contactTemplate = Handlebars.compile(contact);

    Handlebars.registerHelper('render_inputs', function() {
        return new Handlebars.SafeString(
                "<label for='contact-"+ this.name +"'>"+this.name+"</label><input  id='contact-"+ this.name +"' type='" + this.type + "' value='"+ this.value + "' >"
        );
    });
    $.getJSON('js/json/dummy.js',function(data){
        var res = data.data;
        console.log(res);
        $('#contact-tmpl').append(contactTemplate(res));
    });




</script>
</body>
</html>